<div class="segmented-control">
  <button (click)="methods.index = 0" [class.active]="activeMethod==='cash'">Cash</button>
  <button (click)="methods.index = 1" [class.active]="activeMethod==='card'">Card</button>
  <button (click)="methods.index = 2" [class.active]="activeMethod==='qr'">QR</button>
  <span class="indicator"
    [style.transform]="'translateX(' + (activeMethod==='cash' ? 0 : activeMethod==='card' ? 100 : 200) + '%)'"></span>
</div>

<app-display-remaining-amount [amount]="sale?.total_amount"></app-display-remaining-amount>
<section class="payment-method" [attr.data-method]="activeMethod">
  <!-- Cash -->
  <app-cash-payment *ngIf="activeMethod==='cash'" [paid]="state.cashPaid"
    (cashAmountUpdate)="state.update('cash', $event)">
  </app-cash-payment>

  <!-- Card -->
  <app-card-payment *ngIf="activeMethod==='card'">
  </app-card-payment>

  <!-- QR -->
  <app-qr-payment *ngIf="activeMethod==='qr'">
  </app-qr-payment>
</section>

<button mat-flat-button color="primary" (click)="confirmPayment()" [disabled]="remainingAmount > 0">
  Confirm Payment
</button>